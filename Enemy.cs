using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading;
using System.Threading.Tasks;

namespace RaidStrategy
{
    // 적 클래스는 이름과 공격력, 체력 스탯만 생성자로 초기화하고 공격 외 추가 능력은 없다.
    abstract class Enemy : Character
    {
        public Enemy(string name, int att, int hp) : base(name, att, hp) { }

        public abstract void DrawAsciiArt(bool deathAnimation = false);
        protected void DrawingImage(string[] drawAscii, bool deathAnimation)
        {
            int cursorX = (GameManager.BUFFER_SIZE_WIDTH / 6 * 5) - (drawAscii[0].Length / 2);
            int cursorY = (GameManager.HORIZON_AREA / 2) - (drawAscii.Length / 2);
            if (deathAnimation)
            {
                Console.ForegroundColor = ConsoleColor.Red;
                for (int i = 0; i < drawAscii.Length; i++)
                {
                    Console.SetCursorPosition(cursorX, cursorY + i);
                    Console.Write(drawAscii[i]);
                }
                Console.ResetColor();
                for (int i = 0; i < drawAscii.Length; i++)
                {
                    Console.SetCursorPosition(cursorX, cursorY + i);
                    for (int j = 0; j < drawAscii[0].Length; j++)
                    {
                        Console.Write(" ");
                    }
                    Thread.Sleep(50);
                }
            }
            else
            {
                for (int i = 0; i < drawAscii.Length; i++)
                {
                    Console.SetCursorPosition(cursorX, cursorY + i);
                    Console.Write(drawAscii[i]);
                }
            }
        }
    }

    class Slime : Enemy
    {
        public Slime(int att, int hp, string name = "슬라임") : base(name, att, hp)
        {
        }

        public override void DrawAsciiArt(bool deathAnimation = false)
        {
            string[] asciiImage = {
                "                         ..=#=....=#-.                     ",
                "                        .*=.       ..-+                    ",
                "                    ..:+===.. .       .*                   ",
                "                   ..=-++=-::..       .:#                  ",
                "            .......-==+*+==-.=..        =                  ",
                "           .....+--=++*+===--..:.       =                  ",
                "    .......===-==++***+===----:..-:..  .-:                 ",
                "   ...:+--==+*****++====---::..... .=.. -:                 ",
                " ...=--+******+++=====----::...  ....:: :+                 ",
                "..:--*@==@*+++====-------:::...........-:+                 ",
                ".---+%+.:+*+=====----*@*=@*::.....:..::.++                 ",
                ".+-=*#%*##+++==-----==:..:--:..:::....::-#                 ",
                ":.-=*##**+++##=-#==--*@*=@#-::::::::::---=..               ",
                ":.-=*##**++=====-===---==------------==--.#-...  ........  ",
                ".=:=+*#***++===========------------=++--=. :%-.  .--...*.. ",
                ".:.:=+*****++======================+=----..   .-++*=--==.  ",
                "  ..:=++******+++===============+++=-::-....    ..:*+***.. ",
                "  ..:.:=+++**********+++++++*+++==--:-...         ........ ",
                "  ....--.:-=++++++++++++++====----=....                    ",
                "      ... :-===------------++=-.........                   "
            };
            DrawingImage(asciiImage, deathAnimation);
        }
    }

    class GreenMushroom : Enemy
    {
        public GreenMushroom(int att, int hp, string name = "초록버섯") : base(name, att, hp)
        {
        }

        public override void DrawAsciiArt(bool deathAnimation = false)
        {
            string[] asciiImage = {
                "               @@%%####%@@              ",
                "            @@##***+++==++*%@           ",
                "          @%*++****++=======*%          ",
                "        @%*++******+++========*@        ",
                "      @#+++*******+++++===--===*@       ",
                "    @#-:::::-+**++++++====----==+@      ",
                "@%%*-:::-::::..:-=++++=====----==+#@    ",
                "%::-=+++++++==--:::-=======----===+%@   ",
                "%=++==*#@@@@@%#*+=--::-=====----===+*##%",
                "@#===%%####%######**+--::--=----=====:.%",
                " @#==*%##%*=========+***=-::::--====::=%",
                "   %#**+##=*+=====%+====+*****---::-=*% ",
                "      @##*--+#%===+===========*%@@@@@   ",
                "    @%+=#---=++============---:=%       ",
                "      @%=-------------------+#=::=%     ",
                "       %---:...............::-+@##%@    ",
                "       @#--:..................+@        ",
                "        @*--::...............:*@        ",
                "         @#+=-:::.........:-+#@         ",
                "            @%#*+++++++=*#%@            "
            };
            DrawingImage(asciiImage, deathAnimation);
        }
    }

    class MushMom : Enemy
    {
        public MushMom(int att, int hp, string name = "머쉬맘") : base(name, att, hp)
        {
        }

        public override void DrawAsciiArt(bool deathAnimation = false)
        {
            string[] asciiImage = {
                "                       @%##*****###%%%@@                   ",
                "                    @%#***+++++****#####%%%                ",
                "                  %#***+++++**********######%%             ",
                "               @%#*+++++++++*****++++*****##*#%@           ",
                "              %#+++======++******+++++*********%@          ",
                "           @%#++=========+*********++++*****#***%%         ",
                "        @%****++=====+++++*****************###***%@        ",
                "   @%*++++*+++++++++++++++******************####**#%       ",
                " @*+++++++*+++++++++++++++******************#####**#%      ",
                "@#++******#******+++++++++++*************************#%    ",
                "%*###*###########****+++=====+++***********++*******##*#%  ",
                "%######%%%%%%%#######*+++++++==++*********++++******#####%@",
                "@##*###%%%%%%#***####******++++++**********+++****########@",
                " %***%##%%%%#*********##*********#########################%",
                "  @#***%####*#%%***********######################*#######*%",
                "    %%%###++*@@@#===+++*********###**#########*#########**@",
                "       %+=====+=--=+--=====++**#%%%#*********+++#####**++% ",
                "     @+==---------==+++++======+#%#***********++*##**+*#%  ",
                "    @+==-------------------=======++**********+++###%%@    ",
                "    #==---------------------========++********+++#%        ",
                "   @===---------------------==========++*****++++#%        ",
                "   @===---------------------===========++++++++++#%        ",
                "    #===--------------------============+++++++++#         ",
                "    @*===-----------------===============+++++++#%         ",
                "     %%====-------------=================++++++#%          ",
                "       %#================================++++*#@           ",
                "         %##+============================++*#%             ",
                "            @%#**+=====================+*#%                ",
                "                 @@%##**************##%@                   "
            };
            DrawingImage(asciiImage, deathAnimation);
        }
    }

    class Drake : Enemy
    {
        public Drake(int att, int hp, string name = "드레이크") : base(name, att, hp)
        {
        }

        public override void DrawAsciiArt(bool deathAnimation = false)
        {
            string[] asciiImage = {
                "                                         #%      @@                  ",
                "         @@             @              #-###@ @-*##@                 ",
                "         %*#@        @%=#@      @@    @*####@ %####@                 ",
                "        @+%%#%%%%@@#+*%%@      @=####@@*###%#@*####@                 ",
                "     @@@*#**##@@%%#*##%@%      *=####@%%#@%%##*#@@ @*-@              ",
                "   @#*#%%+%......=%@####%@     %*#####@%**+==+****@####@             ",
                "    @+ .@@:   -.-*######%%      @+##@#**++******###@#@@              ",
                " @@ #%=***%@+=*%**##***#%@%@@@*#@%%#************###%@%%%          @#%",
                " #.::%*@********###=:::=@%%%%@@@@***************###%@###@         %#@",
                "  %.:%#%%****#####@-:::-+--%##%@%@#**************###%@@         @@#%@",
                " @=+**%%#***###%#%-::::-%*=:-###@#*************#####%%@##    @@@###@@",
                "@+*@##****#*#%%%+=:::-=#+--::=%%###*#****###########%%%% @*% @#@##%@ ",
                "%+*******#*=:::-##==%@@@+++*+#+:+####***###@#******##%%%%%@@%%##%%@  ",
                "@***##%@==---=@    @@   @+--#*#@*#%@@+*#%#%%%#****####%@%%%#%%%%%@   ",
                " @@@ @@###@@@     @**#@ @%+=*%@*#%+%**#@@+*#*+****####%*++#++++%     ",
                "                @*##@@##@#%+%@%@%%%@###%++#++***#####%%+++*+@@       ",
                "                @**#@@*#@#%%@%@%###%%%*=-@*==*######%@               ",
                "                   @ @@@ @%@  #+++@@++++++##***#######@              ",
                "                             %#%#+++++++++++*#%@@@@@%%#%%            ",
                "                               @@%%%@@++++@@         %#%             ",
                "                                  @@%%@@       @@@@@#*#@             ",
                "                       @@  @@@ @@#####%@@@**@#***###*#@              ",
                "                     %**#@**#%#*##%%%@ @@%*#%%*@#%#@%##%             ",
                "                    @@@@%#@@@@@@@@    @#@@@@@##@@@@*%@@@             "
            };
            DrawingImage(asciiImage, deathAnimation);
        }
    }

    class JuniorBalrog : Enemy
    {
        public JuniorBalrog(int att, int hp, string name = "주니어 발록") : base(name, att, hp)
        {
        }

        public override void DrawAsciiArt(bool deathAnimation = false)
        {
            string[] asciiImage =
            {
                "                 @%%@                           %#@                 ",
                "                 %#%@@                         @##%                 ",
                "                @%#%@@                         %###@                ",
                "                %##%%@                        @%#%%#@               ",
                "               @#%%%%@                        @%%%@##@              ",
                "              @%#%%@%@@                       @%%@@%#%@@            ",
                "             @%#%@@@@%@                      @%@@@@@%#%%@           ",
                "            @%#%@@%%@%@         @           @%%%@@@@%%%%%@          ",
                "            @#%@@%@@%%%@        @@        @@@%@@@@%@%%@%%%@@        ",
                "           @#%@@@@@%##%%%@       @%@@@@@@%####%@@@%%@%@%#%%%@       ",
                "          @#@%@%%%*#%%@%@%%%%@@@@@@@@@@@@@##%%@@@@%%@%%@%%%%%@      ",
                "         @%%@@@%##%%%@@%%##%@@@@%#%%@%@%%@@%#%%%%%@@@@%%%%%%%%@     ",
                "        @%%%@@@@@@@@%##**#@@%%%@@@@@@%%%%@@@######%%@@%%%%%%%%%@    ",
                "        %%%%%##%%%%*%#@%#*++****#@@@@@@@@@@%***####%%@%@@@%%%%%%@   ",
                "       @@%%%%*#*##%==+-===+#***##%%**##%@%##***###%%@@@@@@@@%%%%%@  ",
                "       @@%%@%#####*+====+**#*##*##%###%%%%#######%%%@@@@@@@@%%%%%@@ ",
                "       @%%%@%%%%#%*+#****=-*+%%%#*++***######%@%@@@@@@@@@@@%%%%@%%@ ",
                "       @%%%%@%%%%%#**===+*+++#%#*====+*##@%%%%%%%%%%@@@@@@@@%%%@@%@@",
                "       @%%%@%#%%@%@++++==-=#%#*+======+*#%%%####%%##%%@@@@@@@@@@@@@@",
                "       @%%@@***##%#*#%%##@%#*+========+**%%%**##%%%%@%@@@@@@@@@@@@@@",
                "       @%%%@#####%#==*@#*****+=======+**#%#%####==**@@@@@@@@@@@@@@@@",
                "      %*+*##@%%%%%%*==+=*%#***+=====+**#%%#%%%%+===%@@@@@@@@@@@@@@@@",
                "      %=-=+%##%%@@@@#**#####********####%%##%%@##%%%%@%@@@@@@@@@@@@@",
                " @%%@@@%*#%@###%%%@@@@ @%%##%%##%%######%#*+##*%%%##**##@  @@@@@@@@@",
                "@#*++##***#####**%@@@       @%%##%####*#%===*%****##+=+#@@     @@@@@",
                "@%*=-+%%#**#*+=+*#@@         @%%#######%%#=+#@***#%#+**%@@@    @@@@@",
                "   %#%@%#*#@*++#@@       @@@%%%%%#####%@%%%@%@***%%%@@@         @@@ ",
                "              @@@      %%#%%%%%%%@@%%%@%#%####%@@@                  ",
                "                      @#**###%%%%@@@@@@%#*#**##%@@@                 ",
                "                      %***###%%%@@@ @@ @%#****##%@@                 ",
                "                      @%##%%@@@@@@@@     @%%#%%%%@@                 ",
                "                        @@@@@@@@@@@@     @@@@@@@@@                  ",
                "                           @@%#%%@@@      @%#%%@@                   ",
                "                        @@@@@@@@@@        @@@@%@@@@                 ",
                "                      @%#@%##@@@@@       @%#%%@@%@@@                ",
                "                      @@@@@%@@@@@        @@@@@@@@@@@                "
            };
            DrawingImage(asciiImage, deathAnimation);
        }
    }
    class Limbo : Enemy
    {
        public Limbo(int att, int hp, string name = "림  보") : base(name, att, hp)
        {
        }

        public override void DrawAsciiArt(bool deathAnimation = false)
        {
            string[] asciiImage =
            {
                "                                             @@@           ",
                "                                            @@@@           ",
                "         @@                               @@@@@            ",
                "  @      @@@@     @           @@@  @@ @@@@@@@@             ",
                "  @@      @@@@  @@%         %%@@ =@@ #@@@@@@@              ",
                "  @@@      @@@@ @@*@@@     %%%@   @*@@@@@@%%%              ",
                "  @@@@@    @@@@@@%%%+    @%@#@@ @**@@@@@@%%*%       @@     ",
                "   @@%%@    %@@@@%+#%@@@%%%%%@@@@@@@@@@@%%@%#       @%     ",
                "   @@@*+#%@ @%@@@%%#*%%*%%@@%%@@@@@@@@@%%% %#@@     @%     ",
                "    %%%#-:=#*##%%%%%%%%%*@@@@@@@%@@@@@%%%@*%#@@     @%     ",
                "  +=@@@#%#=::---*###*#%%%@*%%#%%%@@@@@%@#*%%##      %%@    ",
                "  =--*%@%%%*+-=-+##-=%%%%@@#%%#%%@@@@@@@@%%%%   @  %%%%    ",
                "  =: -+%@##%#+-**%*-#%%%%%@@@*##@#%%%%@@@%%%%# @   %%%%    ",
                "   =  .+==-+##%**%=#@%%%%##++%##********####%#%@@@%%%%%    ",
                "    -  *#*%**@#*%%@#*%@@%#+%#####**##*#######%%@@@%%%%#%   ",
                "    #==**=#-*%%%%#=   %%%@@@@@#*###+*####*+##%%@+%%%%%#@   ",
                "     #+==++:*%%%%%#  :%%%@@@@%%#*#*=++====@#*#*@@#%%%#%%   ",
                "     @%##*+#%%%%%%%#@#=:@#*%%##%%%#%@@@%%@@%#%@@*##%#%%%   ",
                "      @#@@%#-::.  .  .=@%@@#@@@@@@@@%%%%%@@%#@@**##*%%%*   ",
                "      @*@@@%***++###%%@@@***%%#*#@@@@%##%@@@%##**#+#%%%%   ",
                "  @   %##%@@@+*      %%%@%*@#***##@@@@%*%@@@@%@@@####%#@   ",
                "      %###@@@@            %@#%@@@+%%@@@#%@@@%@@@@%@##*#@   ",
                "     %%##%%%@%       %    @@%##@@@#@@@@@@@@%@@@@#%@@#+%@   ",
                "    @###%%@#@%      %@@  @@  #%#*@@@@@@%%##%*%@@#@@@%#%    ",
                "    #+***%%%%%*    %%@   #@%@@@@%%%@@%*%+*#%#+#%%@%#*#@    ",
                "    %%#*####%%*=   +%#+#@=@@@@@@++@@%#%*#%##%%%#*%**#%@    ",
                "     %#%%@@###%   @+%@@@@@@@@@@@##%*+#@*#%%%#=*%*##**%@    ",
                "      @@@%@#%@    %*#@@@@@@@@@@%-*%@%%**##*+*##**#*#*%     ",
                "     %@@@@@@@@    +-:*%%%@@@@%*=: #@@@@#%##%%##-**#-*@     ",
                "      %@@@@@@@@   *=:@@@@@@@% =*=.@@@@@#*%%%%#=*%%.-#      ",
                "       @@@@@@@@@   %@@@@@@@@%   #@@@@@%%%%%@%%@@%=-=#      ",
                "       %@@@@@@@@@  @%%@@@@@@%    #%@@@%@*  @%%@@@+%        ",
                "        @@@@@@@@@  #%##@@@@@@% @  #@@@@@@@  %@%@@%         ",
                "         @@@@@@@@@%*#@@@@@@@@%%@@@%@@@@@@@ @@%%%@          ",
                "           @@@@@@@%@@@@@@@@@@  @@@@@@@@@@%@%%#             ",
                "             @@@@ %@@@@@@@@@@@ @@@@@@@@@%%#                "
            };
            DrawingImage(asciiImage, deathAnimation);
        }
    }
}
